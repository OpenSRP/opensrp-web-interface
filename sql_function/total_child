CREATE OR REPLACE FUNCTION core.total_child (conditions varchar,startDate varchar,endDate varchar) 
RETURNS int
AS $$    
    DECLARE totalCount int:=0; 
    betweenCondition varchar := '';
    BEGIN      
    if (startDate != '' AND endDate != '') THEN            
		betweenCondition := betweenCondition || E' and( c.date_created between \''|| startDate || E'\' and \''
                             || endDate || E'\')';
	END IF;
    
     EXECUTE 'select count(*)
            FROM core."viewJsonDataConversionOfClient" c            
            WHERE c.event_type =' || E' \'Birth Registration\'' || betweenCondition INTO totalCount;
            --- should be changed next to event date 
    return totalCount;
  END;
  $$ LANGUAGE 'plpgsql';
  
